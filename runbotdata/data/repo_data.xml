<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="repo_community" model="runbot.repo">
        <field name="name">https://github.com/ruodoo/odoo</field>
        <field name="sequence">1</field>
        <field name="mode">hook</field>
    </record>
    <record id="repo_community_dev" model="runbot.repo">
        <field name="name">https://github.com/ruodoo-dev/odoo</field>
        <field name="sequence">2</field>
        <field name="mode">hook</field>
    </record>
    <record id="repo_enterprise" model="runbot.repo">
        <field name="name">https://github.com/ruodoo/enterprise</field>
        <field name="sequence">3</field>
        <field name="mode">hook</field>
    </record>
    <record id="repo_enterprise_dev" model="runbot.repo">
        <field name="name">https://github.com/ruodoo-dev/enterprise</field>
        <field name="sequence">4</field>
        <field name="mode">hook</field>
    </record>

    <record id="repo_community" model="runbot.repo">
        <field name="duplicate_id" ref="repo_community_dev"/>
        <field name="dependency_ids" eval="[]"/>
    </record>
    <record id="repo_community_dev" model="runbot.repo">
        <field name="duplicate_id" ref="repo_community"/>
        <field name="dependency_ids" eval="[]"/>
    </record>
    <record id="repo_enterprise" model="runbot.repo">
        <field name="duplicate_id" ref="repo_enterprise_dev"/>
        <field name="dependency_ids" eval="[(4, ref('repo_community'))]"/>
    </record>
    <record id="repo_enterprise_dev" model="runbot.repo">
        <field name="duplicate_id" ref="repo_enterprise"/>
        <field name="dependency_ids" eval="[(4, ref('repo_community_dev'))]"/>
    </record>
    <record id='cron_update' model='ir.cron'>
        <field name="active" eval="False"/>
        <field name="code">
self = model
repos = self.search([('mode', '!=', 'disabled')])
self._update(repos, force=False)
self._create_pending_builds(repos)
        </field>
        <field name="model_id" ref='runbot.model_runbot_repo'/>
        <field name="name">Update</field>
        <field name="numbercall">0 </field>
        <field name="state">code</field>
        <field name="type">ir.actions.server</field>
    </record>
    <record id='cron_build' model='ir.cron'>
        <field name="active" eval="False"/>
        <field name="code">
self = model
repos = self.search([('mode', '!=', 'disabled')])
self._scheduler(repos.ids)
        </field>
        <field name="model_id" ref='runbot.model_runbot_repo'/>
        <field name="name">Build</field>
        <field name="numbercall">0 </field>
        <field name="state">code</field>
        <field name="type">ir.actions.server</field>
    </record>


    
</odoo>
